/*
 * LUNARA Luxury Dark Theme Stylesheet
 *
 * This file defines the global styles, colour palette, layouts,
 * responsive grids, component styles, animations, transitions and
 * utilities used throughout the LUNARA website. It is designed
 * around a luxury dark theme with rose‑gold accents and cosmic
 * ambience. The stylesheet embraces a modular approach to make
 * maintenance easier and to support a scalable design system.
 */

/* ------------------------------------------------------------------
   1. Root variables
   Define the global colour palette, typography and sizing. Using CSS
   variables allows us to quickly tweak the look and feel without
   editing individual rules. If you wish to adjust brand colours or
   component spacing, change the values below.
------------------------------------------------------------------ */

:root {
    --color-bg: #050508;
    --color-surface: #0f0f18;
    --color-surface-alt: #15151f;
    --color-text: #e4e4e7;
    --color-muted: #8a8a99;
    --color-accent: #d19fae;
    --color-accent-light: #e7b9c9;
    --color-accent-dark: #b0788d;
    --color-success: #8dc39a;
    --color-warning: #ffb85c;
    --color-error: #e57a7a;

    --font-display: 'Cinzel', serif;
    --font-body: 'Montserrat', sans-serif;

    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;
    --transition-fast: 0.15s ease-in-out;
    --transition-medium: 0.3s ease-in-out;
    --transition-slow: 0.6s ease-in-out;

    --container-max-width: 1200px;
    --section-padding-y: 4rem;
    --nav-height: 80px;
}

/* ------------------------------------------------------------------
   2. Base styles
   Reset some default browser styles and set up the body and global
   typography. We also apply the cosmic background to the body with
   our generated image and a subtle gradient overlay for depth.
------------------------------------------------------------------ */

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-body);
    background-color: var(--color-bg);
    color: var(--color-text);
    line-height: 1.6;
    overflow-x: hidden;
    /* cosmic background with overlay */
    background-image: linear-gradient(rgba(5,5,8,0.85), rgba(5,5,8,0.85)), url('../assets/img/hero-bg.png');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 600;
    color: var(--color-text);
    margin-top: 0;
}

p {
    margin-top: 0;
    margin-bottom: 1rem;
}

a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--color-accent-light);
}

ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

img {
    display: block;
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-sm);
}

/* ------------------------------------------------------------------
   3. Layout utilities
   Provide containers, grid systems and spacing helpers for consistent
   layout across pages. These classes are reusable and responsive.
------------------------------------------------------------------ */

.container {
    max-width: var(--container-max-width);
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
}

.section {
    padding-top: var(--section-padding-y);
    padding-bottom: var(--section-padding-y);
}

.grid {
    display: grid;
    gap: 2rem;
}

/* 2 column grid for medium screens and up */
.grid-2 {
    grid-template-columns: repeat(1, 1fr);
}

@media (min-width: 768px) {
    .grid-2 {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* 3 column grid for product listing */
.grid-3 {
    grid-template-columns: repeat(1, 1fr);
}

@media (min-width: 600px) {
    .grid-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 992px) {
    .grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ------------------------------------------------------------------
   4. Navigation bar
   The nav bar uses flexbox to space its items. A sticky nav ensures
   accessibility and convenience when scrolling. The nav is semi
   transparent to let the cosmic background peek through.
------------------------------------------------------------------ */

nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--nav-height);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1.5rem;
    background-color: rgba(15, 15, 24, 0.7);
    backdrop-filter: blur(8px);
    z-index: 1000;
    transition: background-color var(--transition-medium), backdrop-filter var(--transition-medium);
}

nav.scrolled {
    background-color: rgba(15, 15, 24, 0.9);
    backdrop-filter: blur(12px);
}

nav .logo {
    font-family: var(--font-display);
    font-size: 1.75rem;
    letter-spacing: 2px;
    font-weight: 700;
}

nav ul {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

nav li {
    position: relative;
}

nav a {
    font-weight: 500;
    padding: 0.5rem;
    display: block;
}

nav a:hover::after,
nav a.active::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -4px;
    height: 2px;
    background-color: var(--color-accent);
    border-radius: 2px;
}

/* Mobile nav toggle (hamburger) */
.nav-toggle {
    display: none;
}

@media (max-width: 768px) {
    nav ul {
        position: fixed;
        top: var(--nav-height);
        right: -100%;
        width: 200px;
        height: calc(100vh - var(--nav-height));
        flex-direction: column;
        background-color: rgba(15, 15, 24, 0.9);
        backdrop-filter: blur(12px);
        padding-top: 2rem;
        transition: right var(--transition-medium);
    }
    nav ul.open {
        right: 0;
    }
    .nav-toggle {
        display: block;
        cursor: pointer;
    }
    .nav-toggle span {
        width: 28px;
        height: 2px;
        background-color: var(--color-text);
        display: block;
        margin: 6px 0;
        transition: transform var(--transition-fast);
    }
    .nav-toggle.active span:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
    }
    .nav-toggle.active span:nth-child(2) {
        opacity: 0;
    }
    .nav-toggle.active span:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
    }
}

/* ------------------------------------------------------------------
   5. Hero section
   The hero introduces the brand with a bold headline and call to
   action. A dark overlay ensures readability over the cosmic
   background. Subtle entrance animations are used for the hero
   content.
------------------------------------------------------------------ */

.hero {
    position: relative;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--color-text);
    padding: 0 1rem;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(5,5,8,0.7) 0%, rgba(5,5,8,0.9) 100%);
    z-index: -1;
}

.hero h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.hero p {
    font-size: 1.25rem;
    color: var(--color-muted);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero .cta {
    margin-top: 2rem;
}

.btn {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    font-weight: 500;
    font-size: 1rem;
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    background-color: var(--color-accent);
    color: var(--color-bg);
    border: none;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(209, 159, 174, 0.3);
}

.btn-secondary {
    background-color: transparent;
    border: 2px solid var(--color-accent);
    color: var(--color-accent);
}

.btn-secondary:hover {
    background-color: var(--color-accent);
    color: var(--color-bg);
}

/* ------------------------------------------------------------------
   6. Product cards
   Cards display product information elegantly with images, names,
   prices and actions. A subtle hover interaction lifts the card and
   reveals quick actions. Badges highlight key attributes (new,
   bestseller, etc.).
------------------------------------------------------------------ */

.product-card {
    background-color: var(--color-surface);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    position: relative;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.product-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.5);
}

.product-card img {
    width: 100%;
    height: 260px;
    object-fit: cover;
}

.product-info {
    padding: 1rem;
}

.product-name {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.product-price {
    color: var(--color-accent);
    font-size: 1rem;
    margin-bottom: 1rem;
}

.product-actions {
    display: flex;
    gap: 0.5rem;
}

/* ------------------------------------------------------------------
   Search & Sort controls
   Provide styling for the search bar and sort select above the
   product grid. Inputs inherit colours from the dark theme and
   include subtle focus styles.
------------------------------------------------------------------ */

.search-sort {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.search-sort input[type="text"],
.search-sort select {
    padding: 0.65rem 1rem;
    background-color: var(--color-surface);
    color: var(--color-text);
    border: 1px solid var(--color-muted);
    border-radius: var(--radius-md);
    font-family: var(--font-body);
    font-size: 0.9rem;
    flex: 1 1 200px;
    min-width: 120px;
}

.search-sort input[type="text"]:focus,
.search-sort select:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 2px rgba(209,159,174,0.3);
}

/* ------------------------------------------------------------------
   Quality score bars
   Represent the 6‑Punkte‑Qualitätskriterien als horizontale Bars
   innerhalb der Produktdetail‑Modal. Farben reichen von grau über
   gelb bis rosa, je nach Punktzahl. Die Bars sind minimalistisch,
   damit sie sich in das elegante Design einfügen.
------------------------------------------------------------------ */

.quality-list {
    margin-top: 1rem;
    margin-bottom: 1rem;
}

.quality-item {
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem;
}

.quality-label {
    flex: 0 0 120px;
    font-size: 0.9rem;
    color: var(--color-muted);
}

.quality-bar {
    flex: 1;
    height: 6px;
    background-color: var(--color-surface);
    border-radius: var(--radius-sm);
    overflow: hidden;
    position: relative;
}

.quality-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-accent-light), var(--color-accent));
    border-radius: var(--radius-sm);
    width: 0;
    transition: width var(--transition-slow);
}

/* Colours for different score levels (1–5) */
.quality-bar-fill[data-score="1"] { width: 20%; background: var(--color-error); }
.quality-bar-fill[data-score="2"] { width: 40%; background: var(--color-warning); }
.quality-bar-fill[data-score="3"] { width: 60%; background: var(--color-warning); }
.quality-bar-fill[data-score="4"] { width: 80%; background: var(--color-accent-light); }
.quality-bar-fill[data-score="5"] { width: 100%; background: var(--color-accent); }

.badge {
    position: absolute;
    top: 0.75rem;
    left: 0.75rem;
    background-color: var(--color-accent);
    color: var(--color-bg);
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Quick view button overlay */
.quick-view {
    position: absolute;
    bottom: 0.75rem;
    right: 0.75rem;
    background-color: rgba(0, 0, 0, 0.6);
    color: var(--color-text);
    padding: 0.5rem 0.75rem;
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity var(--transition-fast), transform var(--transition-fast);
}

.product-card:hover .quick-view {
    opacity: 1;
    transform: translateY(0);
}

/* ------------------------------------------------------------------
   7. Cart drawer
   A slide‑in cart appears from the right when items are added. It
   overlays the page with a backdrop to focus the user’s attention.
------------------------------------------------------------------ */

.cart-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-medium), visibility var(--transition-medium);
    z-index: 1001;
}

.cart-overlay.active {
    opacity: 1;
    visibility: visible;
}

.cart-drawer {
    position: fixed;
    top: 0;
    right: -100%;
    width: 350px;
    height: 100%;
    background-color: var(--color-surface-alt);
    box-shadow: -2px 0 12px rgba(0,0,0,0.4);
    display: flex;
    flex-direction: column;
    z-index: 1002;
    transition: right var(--transition-medium);
}

.cart-drawer.active {
    right: 0;
}

.cart-header {
    padding: 1rem;
    background-color: var(--color-surface);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.cart-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 1rem;
}

.cart-item {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1rem;
    align-items: center;
}

.cart-item img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: var(--radius-sm);
}

.cart-item-details {
    flex: 1;
}

.cart-item-name {
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
}

.cart-item-variant {
    font-size: 0.8rem;
    color: var(--color-muted);
    margin-bottom: 0.25rem;
}

.cart-item-price {
    font-size: 0.9rem;
    color: var(--color-accent);
}

.cart-item-controls {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.quantity-btn {
    padding: 0.25rem 0.5rem;
    border: 1px solid var(--color-muted);
    background-color: transparent;
    color: var(--color-text);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 0.8rem;
}

.remove-item {
    cursor: pointer;
    color: var(--color-error);
    font-size: 1rem;
    border: none;
    background: none;
}

.cart-footer {
    padding: 1rem;
    border-top: 1px solid rgba(255,255,255,0.1);
}

.cart-total {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1rem;
    font-size: 1rem;
    font-weight: 600;
}

/* ------------------------------------------------------------------
   8. Modal
   Generic modal used for product quick view, login and other
   overlays. It includes a fade‑in and slide‑down animation.
------------------------------------------------------------------ */

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    opacity: 0;
    visibility: hidden;
    z-index: 1001;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity var(--transition-medium), visibility var(--transition-medium);
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal {
    background-color: var(--color-surface-alt);
    border-radius: var(--radius-md);
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    padding: 1.5rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    transform: translateY(-20px);
    opacity: 0;
    transition: transform var(--transition-medium), opacity var(--transition-medium);
}

.modal-overlay.active .modal {
    transform: translateY(0);
    opacity: 1;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.modal-title {
    font-size: 1.5rem;
    font-weight: 600;
}

.modal-close {
    cursor: pointer;
    font-size: 1.5rem;
    border: none;
    background: none;
    color: var(--color-muted);
}

/* ------------------------------------------------------------------
   9. Toast notifications
   Toasts provide transient feedback for actions such as adding
   products to the cart. They appear at the bottom center and fade
   out automatically.
------------------------------------------------------------------ */

.toast-container {
    position: fixed;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1003;
}

.toast {
    background-color: var(--color-surface-alt);
    color: var(--color-text);
    padding: 0.75rem 1.25rem;
    border-radius: var(--radius-md);
    margin-top: 0.5rem;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    opacity: 0;
    transform: translateY(20px);
    animation: toast-in var(--transition-medium) forwards;
}

@keyframes toast-in {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.toast.success {
    border-left: 4px solid var(--color-success);
}

.toast.error {
    border-left: 4px solid var(--color-error);
}

/* ------------------------------------------------------------------
   10. Safe Exit & Supernova badges
   The safe exit mode dims or hides sensitive content when toggled.
   Supernova badges signify top tier status in the rewards system.
------------------------------------------------------------------ */

.safe-mode .sensitive {
    filter: blur(8px) brightness(0.3);
    pointer-events: none;
}

.supernova-badge {
    background-color: var(--color-warning);
    color: var(--color-bg);
    padding: 0.3rem 0.5rem;
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

/* ------------------------------------------------------------------
   11. Responsive tweaks
   Additional rules to ensure readability on small screens and to
   refine spacing on larger screens.
------------------------------------------------------------------ */

@media (max-width: 480px) {
    .hero h1 {
        font-size: 2.25rem;
    }
    .hero p {
        font-size: 1rem;
    }
    nav .logo {
        font-size: 1.5rem;
    }
    .product-card img {
        height: 200px;
    }
    .cart-drawer {
        width: 80vw;
    }
}
